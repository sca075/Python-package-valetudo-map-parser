2025-10-19 19:19:23,243 - __main__ - DEBUG - test.test_image_handler (line 515) - Calibration_data (shared): [{'vacuum': {'x': 4029, 'y': 2501}, 'map': {'x': 0, 'y': 0}}, {'vacuum': {'x': 4029, 'y': 4488}, 'map': {'x': 649, 'y': 0}}, {'vacuum': {'x': 2985, 'y': 4488}, 'map': {'x': 649, 'y': 365}}, {'vacuum': {'x': 2985, 'y': 2501}, 'map': {'x': 0, 'y': 365}}]
2025-10-19 19:19:23,243 - __main__ - DEBUG - test.test_image_handler (line 516) - PIL image size: (649, 365)
2025-10-19 19:19:23,246 - __main__ - DEBUG - test.test_image_handler (line 517) - Room Properties (shared): {'1': {'number': '1', 'outline': [(3435, 3360), (3435, 3270), (3510, 3270), (3715, 3310), (3725, 3320), (3735, 3350), (3735, 3395), (3725, 3445), (3710, 3450), (3640, 3450), (3510, 3440), (3485, 3425), (3480, 3420), (3445, 3380), (3435, 3360)], 'name': 'Room 1', 'x': 3585, 'y': 3360}, '2': {'number': '2', 'outline': [(3035, 3330), (3050, 3190), (3360, 3190), (3360, 3335), (3355, 3345), (3260, 3360), (3035, 3360), (3035, 3330)], 'name': 'Room 2', 'x': 3197, 'y': 3275}, '3': {'number': '3', 'outline': [(4010, 3360), (4010, 3415), (3755, 3415), (3740, 3400), (3740, 3340), (3810, 3310), (3995, 3310), (4010, 3360)], 'name': 'Room 3', 'x': 3875, 'y': 3362}, '4': {'number': '4', 'outline': [(3560, 3675), (3640, 3455), (3710, 3455), (3990, 3555), (4000, 3560), (4010, 3570), (4010, 3600), (3970, 3680), (3850, 3750), (3755, 3800), (3580, 3800), (3560, 3785), (3560, 3675)], 'name': 'Room 4', 'x': 3785, 'y': 3627}, '5': {'number': '5', 'outline': [(3465, 3795), (3275, 3760), (3270, 3720), (3270, 3380), (3280, 3370), (3400, 3370), (3445, 3385), (3470, 3395), (3525, 3475), (3530, 3500), (3530, 3750), (3520, 3790), (3510, 3795), (3465, 3795)], 'name': 'Room 5', 'x': 3400, 'y': 3582}, '6': {'number': '6', 'outline': [(3265, 3405), (3265, 3735), (3230, 3780), (3190, 3790), (3065, 3790), (3000, 3490), (3000, 3415), (3025, 3365), (3260, 3365), (3265, 3405)], 'name': 'Room 6', 'x': 3132, 'y': 3577}}
2025-10-19 19:19:23,246 - __main__ - DEBUG - test.test_image_handler (line 519) - Room Store Properties: 6
2025-10-19 19:19:23,250 - __main__ - DEBUG - test.test_image_handler (line 522) - Room Store Rooms {'test_hypfer': <SCR.valetudo_map_parser.config.types.RoomStore object at 0x107e0c2f0>}: {'1': {'number': '1', 'outline': [(3435, 3360), (3435, 3270), (3510, 3270), (3715, 3310), (3725, 3320), (3735, 3350), (3735, 3395), (3725, 3445), (3710, 3450), (3640, 3450), (3510, 3440), (3485, 3425), (3480, 3420), (3445, 3380), (3435, 3360)], 'name': 'Room 1', 'x': 3585, 'y': 3360}, '2': {'number': '2', 'outline': [(3035, 3330), (3050, 3190), (3360, 3190), (3360, 3335), (3355, 3345), (3260, 3360), (3035, 3360), (3035, 3330)], 'name': 'Room 2', 'x': 3197, 'y': 3275}, '3': {'number': '3', 'outline': [(4010, 3360), (4010, 3415), (3755, 3415), (3740, 3400), (3740, 3340), (3810, 3310), (3995, 3310), (4010, 3360)], 'name': 'Room 3', 'x': 3875, 'y': 3362}, '4': {'number': '4', 'outline': [(3560, 3675), (3640, 3455), (3710, 3455), (3990, 3555), (4000, 3560), (4010, 3570), (4010, 3600), (3970, 3680), (3850, 3750), (3755, 3800), (3580, 3800), (3560, 3785), (3560, 3675)], 'name': 'Room 4', 'x': 3785, 'y': 3627}, '5': {'number': '5', 'outline': [(3465, 3795), (3275, 3760), (3270, 3720), (3270, 3380), (3280, 3370), (3400, 3370), (3445, 3385), (3470, 3395), (3525, 3475), (3530, 3500), (3530, 3750), (3520, 3790), (3510, 3795), (3465, 3795)], 'name': 'Room 5', 'x': 3400, 'y': 3582}, '6': {'number': '6', 'outline': [(3265, 3405), (3265, 3735), (3230, 3780), (3190, 3790), (3065, 3790), (3000, 3490), (3000, 3415), (3025, 3365), (3260, 3365), (3265, 3405)], 'name': 'Room 6', 'x': 3132, 'y': 3577}}
üîç Memory Usage Timeline:
   1. Test Setup Start               | RSS:   66.8MB | VMS: 401410.8MB |  0.4%
   2. Test Setup Complete            | RSS:   67.9MB | VMS: 401410.8MB |  0.4%
   3. Test Start                     | RSS:   68.5MB | VMS: 401426.9MB |  0.4%
   4. Before Image Generation #1     | RSS:   69.4MB | VMS: 401427.9MB |  0.4%
   5. After Image Generation #1      | RSS:  291.6MB | VMS: 401647.0MB |  1.8%
   6. Before Image Generation #25    | RSS:  375.7MB | VMS: 402068.0MB |  2.3%
   7. After Image Generation #25     | RSS:  377.0MB | VMS: 402069.0MB |  2.3%
   8. Test Complete                  | RSS:  378.2MB | VMS: 402071.0MB |  2.3%

2025-10-19 19:33:05,516 - __main__ - INFO - test.test_image_handler (line 503) - Calibration_data (shared): [{'vacuum': {'x': 4029, 'y': 2501}, 'map': {'x': 0, 'y': 0}}, {'vacuum': {'x': 4029, 'y': 4488}, 'map': {'x': 649, 'y': 0}}, {'vacuum': {'x': 2985, 'y': 4488}, 'map': {'x': 649, 'y': 365}}, {'vacuum': {'x': 2985, 'y': 2501}, 'map': {'x': 0, 'y': 365}}]
2025-10-19 19:33:05,519 - __main__ - INFO - test.test_image_handler (line 504) - Room Properties (shared): {'1': {'number': '1', 'outline': [(3435, 3360), (3435, 3270), (3510, 3270), (3715, 3310), (3725, 3320), (3735, 3350), (3735, 3395), (3725, 3445), (3710, 3450), (3640, 3450), (3510, 3440), (3485, 3425), (3480, 3420), (3445, 3380), (3435, 3360)], 'name': 'Room 1', 'x': 3585, 'y': 3360}, '2': {'number': '2', 'outline': [(3035, 3330), (3050, 3190), (3360, 3190), (3360, 3335), (3355, 3345), (3260, 3360), (3035, 3360), (3035, 3330)], 'name': 'Room 2', 'x': 3197, 'y': 3275}, '3': {'number': '3', 'outline': [(4010, 3360), (4010, 3415), (3755, 3415), (3740, 3400), (3740, 3340), (3810, 3310), (3995, 3310), (4010, 3360)], 'name': 'Room 3', 'x': 3875, 'y': 3362}, '4': {'number': '4', 'outline': [(3560, 3675), (3640, 3455), (3710, 3455), (3990, 3555), (4000, 3560), (4010, 3570), (4010, 3600), (3970, 3680), (3850, 3750), (3755, 3800), (3580, 3800), (3560, 3785), (3560, 3675)], 'name': 'Room 4', 'x': 3785, 'y': 3627}, '5': {'number': '5', 'outline': [(3465, 3795), (3275, 3760), (3270, 3720), (3270, 3380), (3280, 3370), (3400, 3370), (3445, 3385), (3470, 3395), (3525, 3475), (3530, 3500), (3530, 3750), (3520, 3790), (3510, 3795), (3465, 3795)], 'name': 'Room 5', 'x': 3400, 'y': 3582}, '6': {'number': '6', 'outline': [(3265, 3405), (3265, 3735), (3230, 3780), (3190, 3790), (3065, 3790), (3000, 3490), (3000, 3415), (3025, 3365), (3260, 3365), (3265, 3405)], 'name': 'Room 6', 'x': 3132, 'y': 3577}}
2025-10-19 19:33:05,519 - __main__ - INFO - test.time_operation (line 117) - ‚è±Ô∏è  RobotRoom: 0.0ms
2025-10-19 19:33:05,520 - __main__ - DEBUG - test.test_image_handler (line 515) - Calibration_data (shared): [{'vacuum': {'x': 4029, 'y': 2501}, 'map': {'x': 0, 'y': 0}}, {'vacuum': {'x': 4029, 'y': 4488}, 'map': {'x': 649, 'y': 0}}, {'vacuum': {'x': 2985, 'y': 4488}, 'map': {'x': 649, 'y': 365}}, {'vacuum': {'x': 2985, 'y': 2501}, 'map': {'x': 0, 'y': 365}}]
2025-10-19 19:33:05,520 - __main__ - DEBUG - test.test_image_handler (line 516) - PIL image size: (649, 365)
2025-10-19 19:33:05,524 - __main__ - DEBUG - test.test_image_handler (line 517) - Room Properties (shared): {'1': {'number': '1', 'outline': [(3435, 3360), (3435, 3270), (3510, 3270), (3715, 3310), (3725, 3320), (3735, 3350), (3735, 3395), (3725, 3445), (3710, 3450), (3640, 3450), (3510, 3440), (3485, 3425), (3480, 3420), (3445, 3380), (3435, 3360)], 'name': 'Room 1', 'x': 3585, 'y': 3360}, '2': {'number': '2', 'outline': [(3035, 3330), (3050, 3190), (3360, 3190), (3360, 3335), (3355, 3345), (3260, 3360), (3035, 3360), (3035, 3330)], 'name': 'Room 2', 'x': 3197, 'y': 3275}, '3': {'number': '3', 'outline': [(4010, 3360), (4010, 3415), (3755, 3415), (3740, 3400), (3740, 3340), (3810, 3310), (3995, 3310), (4010, 3360)], 'name': 'Room 3', 'x': 3875, 'y': 3362}, '4': {'number': '4', 'outline': [(3560, 3675), (3640, 3455), (3710, 3455), (3990, 3555), (4000, 3560), (4010, 3570), (4010, 3600), (3970, 3680), (3850, 3750), (3755, 3800), (3580, 3800), (3560, 3785), (3560, 3675)], 'name': 'Room 4', 'x': 3785, 'y': 3627}, '5': {'number': '5', 'outline': [(3465, 3795), (3275, 3760), (3270, 3720), (3270, 3380), (3280, 3370), (3400, 3370), (3445, 3385), (3470, 3395), (3525, 3475), (3530, 3500), (3530, 3750), (3520, 3790), (3510, 3795), (3465, 3795)], 'name': 'Room 5', 'x': 3400, 'y': 3582}, '6': {'number': '6', 'outline': [(3265, 3405), (3265, 3735), (3230, 3780), (3190, 3790), (3065, 3790), (3000, 3490), (3000, 3415), (3025, 3365), (3260, 3365), (3265, 3405)], 'name': 'Room 6', 'x': 3132, 'y': 3577}}
2025-10-19 19:33:05,524 - __main__ - DEBUG - test.test_image_handler (line 519) - Room Store Properties: 6
2025-10-19 19:33:05,527 - __main__ - DEBUG - test.test_image_handler (line 522) - Room Store Rooms {'test_hypfer': <SCR.valetudo_map_parser.config.types.RoomStore object at 0x105b4c050>}: {'1': {'number': '1', 'outline': [(3435, 3360), (3435, 3270), (3510, 3270), (3715, 3310), (3725, 3320), (3735, 3350), (3735, 3395), (3725, 3445), (3710, 3450), (3640, 3450), (3510, 3440), (3485, 3425), (3480, 3420), (3445, 3380), (3435, 3360)], 'name': 'Room 1', 'x': 3585, 'y': 3360}, '2': {'number': '2', 'outline': [(3035, 3330), (3050, 3190), (3360, 3190), (3360, 3335), (3355, 3345), (3260, 3360), (3035, 3360), (3035, 3330)], 'name': 'Room 2', 'x': 3197, 'y': 3275}, '3': {'number': '3', 'outline': [(4010, 3360), (4010, 3415), (3755, 3415), (3740, 3400), (3740, 3340), (3810, 3310), (3995, 3310), (4010, 3360)], 'name': 'Room 3', 'x': 3875, 'y': 3362}, '4': {'number': '4', 'outline': [(3560, 3675), (3640, 3455), (3710, 3455), (3990, 3555), (4000, 3560), (4010, 3570), (4010, 3600), (3970, 3680), (3850, 3750), (3755, 3800), (3580, 3800), (3560, 3785), (3560, 3675)], 'name': 'Room 4', 'x': 3785, 'y': 3627}, '5': {'number': '5', 'outline': [(3465, 3795), (3275, 3760), (3270, 3720), (3270, 3380), (3280, 3370), (3400, 3370), (3445, 3385), (3470, 3395), (3525, 3475), (3530, 3500), (3530, 3750), (3520, 3790), (3510, 3795), (3465, 3795)], 'name': 'Room 5', 'x': 3400, 'y': 3582}, '6': {'number': '6', 'outline': [(3265, 3405), (3265, 3735), (3230, 3780), (3190, 3790), (3065, 3790), (3000, 3490), (3000, 3415), (3025, 3365), (3260, 3365), (3265, 3405)], 'name': 'Room 6', 'x': 3132, 'y': 3577}}
2025-10-19 19:33:05,527 - __main__ - INFO - test.test_image_handler (line 528) - RoomStore format (like your vacuum): {'1': 'Room 1', '2': 'Room 2', '3': 'Room 3', '4': 'Room 4', '5': 'Room 5', '6': 'Room 6'}
2025-10-19 19:33:05,527 - __main__ - INFO - test.test_image_handler (line 532) - Room keys order: ['1', '2', '3', '4', '5', '6']
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 535) - Active zones: [0, 0, 0, 0, 0, 0]
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 538) - Position 0: Segment ID '1' (Room 1) = active: False
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 538) - Position 1: Segment ID '2' (Room 2) = active: False
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 538) - Position 2: Segment ID '3' (Room 3) = active: False
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 538) - Position 3: Segment ID '4' (Room 4) = active: False
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 538) - Position 4: Segment ID '5' (Room 5) = active: False
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 538) - Position 5: Segment ID '6' (Room 6) = active: False
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 544) - === TESTING YOUR VACUUM SCENARIO ===
2025-10-19 19:33:05,528 - __main__ - INFO - test.test_image_handler (line 546) - Trims update: {'floor': '1', 'trim_up': 0, 'trim_left': 0, 'trim_down': 0, 'trim_right': 0}
2025-10-19 19:33:05,529 - __main__ - INFO - test.test_image_handler (line 547) - Calibration Data (shared): [{'vacuum': {'x': 4029, 'y': 2501}, 'map': {'x': 0, 'y': 0}}, {'vacuum': {'x': 4029, 'y': 4488}, 'map': {'x': 649, 'y': 0}}, {'vacuum': {'x': 2985, 'y': 4488}, 'map': {'x': 649, 'y': 365}}, {'vacuum': {'x': 2985, 'y': 2501}, 'map': {'x': 0, 'y': 365}}]
2025-10-19 19:33:05,529 - __main__ - INFO - test.test_image_handler (line 548) - Current room (shared): {'x': 3282, 'y': 3298, 'angle': 3.0, 'in_room': 'Room 2'}
2025-10-19 19:33:05,529 - __main__ - INFO - test.test_image_handler (line 553) - Robot Position: (3282, 3298, 3.0)
2025-10-19 19:33:05,529 - __main__ - INFO - test.test_image_handler (line 558) - Robot in room: {'x': 3282, 'y': 3298, 'angle': 3.0, 'in_room': 'Room 2'}
üîç Memory Usage Timeline:
   1. Test Setup Start               | RSS:   67.2MB | VMS: 401698.3MB |  0.4%
   2. Test Setup Complete            | RSS:   68.0MB | VMS: 401699.3MB |  0.4%
   3. Test Start                     | RSS:   68.3MB | VMS: 401715.4MB |  0.4%
   4. Before Image Generation #1     | RSS:   69.0MB | VMS: 401715.4MB |  0.4%
   5. After Image Generation #1      | RSS:  407.5MB | VMS: 402062.3MB |  2.5%
   6. Before Image Generation #25    | RSS:  437.5MB | VMS: 402449.3MB |  2.7%
   7. After Image Generation #25     | RSS:  438.5MB | VMS: 402450.3MB |  2.7%
   8. Test Complete                  | RSS:  439.5MB | VMS: 402451.3MB |  2.7%